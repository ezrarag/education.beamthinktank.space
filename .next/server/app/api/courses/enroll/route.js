(()=>{var e={};e.id=384,e.ids=[384],e.modules={399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},466:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>_,routeModule:()=>p,serverHooks:()=>m,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>l});var s={};r.r(s),r.d(s,{POST:()=>c});var o=r(4951),n=r(4309),u=r(6836),a=r(2538),i=r(5171);async function c(e){try{let{courseId:t,userId:r,amount:s}=await e.json();if(!t||!r||!s)return a.NextResponse.json({error:"Missing required fields"},{status:400});let o={id:t,title:"Mock Course",description:"This is a mock course for deployment purposes",max_students:25,enrolled_students:15,price:s};if(o.enrolled_students>=o.max_students)return a.NextResponse.json({error:"Course is full"},{status:400});let n=await (0,i.cY)(s,t,r);return a.NextResponse.json({success:!0,paymentIntent:n,course:o})}catch(e){return console.error("Error processing course enrollment:",e),a.NextResponse.json({error:"Failed to process enrollment"},{status:500})}}let p=new o.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/courses/enroll/route",pathname:"/api/courses/enroll",filename:"route",bundlePath:"app/api/courses/enroll/route"},resolvedPagePath:"/Users/ehauga/Desktop/education.beamthinktank.space/app/api/courses/enroll/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:d,workUnitAsyncStorage:l,serverHooks:m}=p;function _(){return(0,u.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:l})}},4091:()=>{},5171:(e,t,r)=>{"use strict";r.d(t,{J9:()=>s,cY:()=>o,rL:()=>n});let s=async(e,t)=>({id:"mock_payment_intent_"+Date.now(),amount:Math.round(100*e),currency:"usd",metadata:t,status:"requires_payment_method"}),o=async(e,t,r)=>({id:"mock_course_payment_"+Date.now(),amount:Math.round(100*e),currency:"usd",metadata:{course_id:t,user_id:r,type:"course_enrollment"},status:"requires_payment_method"}),n=async(e,t,r)=>({subscription:{id:"mock_subscription_"+Date.now(),status:"active",metadata:r},customer:{id:"mock_customer_"+Date.now(),email:t,metadata:r}})}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[837,130],()=>r(466));module.exports=s})();