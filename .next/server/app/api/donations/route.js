(()=>{var e={};e.id=922,e.ids=[922],e.modules={399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},1741:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>y,routeModule:()=>c,serverHooks:()=>l,workAsyncStorage:()=>m,workUnitAsyncStorage:()=>_});var n={};r.r(n),r.d(n,{POST:()=>p});var s=r(4951),o=r(4309),a=r(6836),i=r(2538),u=r(5171);let d=async e=>({id:"mock_donation_"+Date.now(),...e,created_at:new Date().toISOString()});async function p(e){try{let t,r;let{amount:n,type:s,donorName:o,donorEmail:a,message:p}=await e.json();if(!n||!s||!o||!a)return i.NextResponse.json({error:"Missing required fields"},{status:400});let c={donor_name:o,donor_email:a,message:p||"",type:s};if("monthly"===s){let e=await (0,u.rL)(n,a,c);t=e.subscription,r=await d({donor_name:o,donor_email:a,amount:n,type:s,message:p,stripe_payment_intent_id:e.subscription.id,status:"completed"})}else t=await (0,u.J9)(n,c),r=await d({donor_name:o,donor_email:a,amount:n,type:s,message:p,stripe_payment_intent_id:t.id,status:"pending"});return i.NextResponse.json({success:!0,paymentIntent:t,donation:r})}catch(e){return console.error("Error processing donation:",e),i.NextResponse.json({error:"Failed to process donation"},{status:500})}}let c=new s.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/donations/route",pathname:"/api/donations",filename:"route",bundlePath:"app/api/donations/route"},resolvedPagePath:"/Users/ehauga/Desktop/education.beamthinktank.space/app/api/donations/route.ts",nextConfigOutput:"",userland:n}),{workAsyncStorage:m,workUnitAsyncStorage:_,serverHooks:l}=c;function y(){return(0,a.patchFetch)({workAsyncStorage:m,workUnitAsyncStorage:_})}},4091:()=>{},5171:(e,t,r)=>{"use strict";r.d(t,{J9:()=>n,cY:()=>s,rL:()=>o});let n=async(e,t)=>({id:"mock_payment_intent_"+Date.now(),amount:Math.round(100*e),currency:"usd",metadata:t,status:"requires_payment_method"}),s=async(e,t,r)=>({id:"mock_course_payment_"+Date.now(),amount:Math.round(100*e),currency:"usd",metadata:{course_id:t,user_id:r,type:"course_enrollment"},status:"requires_payment_method"}),o=async(e,t,r)=>({subscription:{id:"mock_subscription_"+Date.now(),status:"active",metadata:r},customer:{id:"mock_customer_"+Date.now(),email:t,metadata:r}})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[837,130],()=>r(1741));module.exports=n})();